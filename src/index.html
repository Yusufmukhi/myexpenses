<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-gray-50 font-sans">
    <!-- Login Section (shown by default) -->
    <div id="loginSection" class="flex items-center justify-center min-h-screen bg-gray-100">
        <div class="w-full max-w-sm bg-white shadow-lg rounded-2xl p-6">
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Login</h2>

            <form class="space-y-4" id="authForm">
                <div>
                    <label class="block text-gray-700 text-sm font-medium mb-1">Email</label>
                    <input type="email" placeholder="Enter your email" id="email"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        required>
                </div>

                <div>
                    <label class="block text-gray-700 text-sm font-medium mb-1">Password</label>
                    <input type="password" placeholder="Enter your password" id="password"
                        class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                        required>
                </div>

                <div class="flex items-center justify-between text-sm">
                    <label class="flex items-center space-x-2">
                        <input type="checkbox" id="rememberMe" class="h-4 w-4 text-blue-600 rounded">
                        <span class="text-gray-600">Remember me</span>
                    </label>
                    <a href="#" class="text-blue-600 hover:underline">Forgot password?</a>
                </div>

                <button type="submit"
                    class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition duration-200">
                    Login
                </button>

                <button type="button" id="guestLogin"
                    class="w-full bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700 transition duration-200">
                    Continue as Guest
                </button>
            </form>

            <p class="mt-6 text-center text-gray-600 text-sm">
                Don't have an account?
                <a href="#" id="showSignupLink" class="text-blue-600 font-medium hover:underline">Sign up</a>
            </p>
        </div>
    </div>

    <!-- Signup Section (hidden by default) -->
    <div id="signupSection" class="hidden">
        <div class="flex items-center justify-center min-h-screen bg-gray-100">
            <div class="w-full max-w-md bg-white shadow-lg rounded-2xl p-6">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Create Account</h2>

                <form id="signupForm" class="space-y-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-1">UserName</label>
                        <input type="text" placeholder="UserName" id="signupUsername"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                    </div>

                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-1">Email</label>
                        <input type="email" placeholder="Enter your email" id="signupEmail"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                    </div>

                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-1">Password</label>
                        <input type="password" placeholder="Create a password" id="signupPassword"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                    </div>

                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-1">Confirm Password</label>
                        <input type="password" placeholder="Re-enter password" id="signupConfirmPassword"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                    </div>

                    <button type="submit" id="submit"
                        class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition duration-200">
                        Sign Up
                    </button>
                </form>

                <p class="mt-6 text-center text-gray-600 text-sm">
                    Already have an account?
                    <a href="#" id="showLoginLink" class="text-blue-600 font-medium hover:underline">Login</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Dashboard Section (hidden by default) -->
    <div id="dashboardSection" class="hidden">
        <!-- Top bar -->
        <header
            class="bg-white shadow-md p-4 flex justify-between items-center md:hidden fixed top-0 left-0 right-0 z-50">
            <button id="menuButton" class="flex flex-col justify-between h-6 w-8 focus:outline-none">
                <span class="block h-0.5 w-full bg-gray-800"></span>
                <span class="block h-0.5 w-full bg-gray-800"></span>
                <span class="block h-0.5 w-full bg-gray-800"></span>
            </button>
            <h1 class="text-xl font-bold text-gray-800">Expense Tracker</h1>
            <button id="logoutBtn"
                class="bg-red-600 text-white px-3 py-1 rounded shadow hover:bg-red-700">Logout</button>
        </header>

        <div class="flex pt-16 md:pt-0">
            <!-- Sidebar -->
            <aside id="sidebar"
                class="w-64 bg-white shadow-md h-screen fixed md:sticky top-0 transform -translate-x-full md:translate-x-0 transition-transform duration-300 z-50">
                <div class="p-6">
                    <h1 class="text-2xl font-bold mb-8 text-gray-800">Expense Tracker</h1>
                    <nav class="space-y-4">
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200 dashboard-link">
                            <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200 expenses-link">
                            <i class="fas fa-plus-circle mr-3"></i> Expenses
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200">
                            <i class="fas fa-wallet mr-3"></i> Income
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200">
                            <i class="fas fa-piggy-bank mr-3"></i> Savings
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200">
                            <i class="fas fa-exchange-alt mr-3"></i> Transactions
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200 text-red-600"
                            id="sidebarLogoutBtn">
                            <i class="fas fa-sign-out-alt mr-3"></i> Logout
                        </a>
                    </nav>
                </div>
            </aside>

            <!-- Overlay -->
            <div id="overlay" class="fixed inset-0 bg-black opacity-50 hidden z-40 md:hidden"></div>

            <!-- Main content -->
            <main class="flex-1 p-4 md:p-8 pb-20 md:pb-8">
                <h2 class="text-3xl font-semibold text-gray-800 mb-6">
                    Welcome, <span id="usernameDisplay"></span>!
                </h2>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition">
                        <h3 class="text-gray-500 font-medium mb-2">Current Money</h3>
                        <p id="currentMoney" class="text-2xl font-bold text-green-600 mb-4">₹0</p>
                    </div>
                    <div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition">
                        <h3 class="text-gray-500 font-medium mb-2">Net Worth</h3>
                        <p id="netWorth" class="text-2xl font-bold text-green-600 mb-4">₹0</p>
                    </div>
                    <div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition">
                        <h3 class="text-gray-500 font-medium mb-2">Total Income</h3>
                        <p id="totalIncome" class="text-2xl font-bold text-green-600 mb-4">₹0</p>
                    </div>
                    <div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition">
                        <h3 class="text-gray-500 font-medium mb-2">Total Expenses</h3>
                        <p id="totalExpenses" class="text-2xl font-bold text-red-600 mb-4">₹0</p>
                    </div>
                    <div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition">
                        <h3 class="text-gray-500 font-medium mb-2">Total Savings</h3>
                        <p id="totalSavings" class="text-2xl font-bold text-blue-600 mb-4">₹0</p>
                    </div>
                    <div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition">
                        <h3 class="text-gray-500 font-medium mb-2">Total Transactions</h3>
                        <p id="totalTransactions" class="text-2xl font-bold text-purple-600 mb-4">₹0</p>
                    </div>
                </div>

                <!-- Recent Entries Section -->
                <section class="bg-white p-6 rounded shadow mb-8">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold">Recent Entries</h2>
                        <div>
                            <select id="entryFilter" class="px-3 py-1 border rounded">
                                <option value="all">All</option>
                                <option value="incomes">Income</option>
                                <option value="expenses">Expenses</option>
                                <option value="savings">Savings</option>
                                <option value="transactions">Transactions</option>
                            </select>
                        </div>
                    </div>
                    <ul id="recentEntries" class="divide-y divide-gray-200"></ul>
                </section>
            </main>
        </div>

        <!-- Mobile Menu Bar (Bottom Navigation) for Dashboard -->
        <nav class="fixed bottom-0 left-0 right-0 bg-white shadow-lg md:hidden z-50">
            <div class="flex justify-around items-center py-3">
                <a href="#" class="flex flex-col items-center text-blue-600 dashboard-link">
                    <i class="fas fa-tachometer-alt mb-1"></i>
                    <span class="text-xs">Dashboard</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-600 expenses-link">
                    <i class="fas fa-plus-circle mb-1"></i>
                    <span class="text-xs">Add Expense</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-exchange-alt mb-1"></i>
                    <span class="text-xs">Add Transactions</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-wallet mb-1"></i>
                    <span class="text-xs">Add Income</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-piggy-bank mb-1"></i>
                    <span class="text-xs">Add Saving</span>
                </a>
            </div>
        </nav>
    </div>

    <!-- Expenses Section (hidden by default) -->
    <div id="expensesSection" class="hidden">
        <!-- Top bar (mobile only) -->
        <header
            class="bg-white shadow-md p-4 flex justify-between items-center md:hidden fixed top-0 left-0 right-0 z-50">
            <button id="expensesMenuButton" class="flex flex-col justify-between h-6 w-8 focus:outline-none">
                <span class="block h-0.5 w-full bg-gray-800"></span>
                <span class="block h-0.5 w-full bg-gray-800"></span>
                <span class="block h-0.5 w-full bg-gray-800"></span>
            </button>
            <h1 class="text-xl font-bold text-gray-800">Expense Tracker</h1>
            <button id="expensesLogoutBtn"
                class="bg-red-600 text-white px-3 py-1 rounded shadow hover:bg-red-700">Logout</button>
        </header>

        <div class="flex pt-16 md:pt-0">
            <!-- Sidebar -->
            <aside id="expensesSidebar"
                class="w-64 bg-white shadow-md h-screen fixed md:sticky top-0 transform -translate-x-full md:translate-x-0 transition-transform duration-300 z-50">
                <div class="p-6">
                    <h1 class="text-2xl font-bold mb-8 text-gray-800">Expense Tracker</h1>
                    <nav class="space-y-4">
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200 dashboard-link">
                            <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200 expenses-link">
                            <i class="fas fa-plus-circle mr-3"></i> Expenses
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200">
                            <i class="fas fa-wallet mr-3"></i> Income
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200">
                            <i class="fas fa-piggy-bank mr-3"></i> Savings
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200">
                            <i class="fas fa-exchange-alt mr-3"></i> Transactions
                        </a>
                        <a href="#" class="flex items-center py-2 px-4 rounded hover:bg-gray-200 text-red-600"
                            id="expensesSidebarLogoutBtn">
                            <i class="fas fa-sign-out-alt mr-3"></i> Logout
                        </a>
                    </nav>
                </div>
            </aside>

            <!-- Overlay for mobile -->
            <div id="expensesOverlay" class="fixed inset-0 bg-black opacity-50 hidden z-30 md:hidden"></div>

            <!-- Main Content -->
            <main class="flex-1 p-6 md:p-10 flex flex-col md:flex-row gap-6">
                <!-- Form -->
                <form id="expensesForm" class="bg-white p-6 shadow-lg rounded-lg space-y-6 max-w-lg flex-1">
                    <h2 class="text-3xl font-semibold text-gray-800 mb-6">Add Expense</h2>

                    <div>
                        <label for="date" class="block text-gray-700 font-medium mb-2">Date</label>
                        <input type="date" id="date" name="date"
                            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                    </div>

                    <div>
                        <label for="amount" class="block text-gray-700 font-medium mb-2">Amount (₹)</label>
                        <input type="number" id="amount" name="amount" placeholder="Enter amount"
                            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                    </div>

                    <div>
                        <label for="category" class="block text-gray-700 font-medium mb-2">Category</label>
                        <select id="category" name="category"
                            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            required>
                            <option value="">Select Category</option>
                            <option>Food</option>
                            <option>Travel</option>
                            <option>Shopping</option>
                            <option>Utilities</option>
                            <option>Entertainment</option>
                            <option>Other</option>
                        </select>
                    </div>

                    <!-- New Category Input (shown only when Other is selected) -->
                    <div id="addCategoryContainer" class="gap-2 items-center mt-2 hidden">
                        <input type="text" id="newCategory" placeholder="Enter new category"
                            class="flex-1 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button type="button" id="addCategoryBtn"
                            class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition">Add</button>
                    </div>

                    <div>
                        <label for="description" class="block text-gray-700 font-medium mb-2">Description</label>
                        <textarea id="description" name="description" rows="3" placeholder="Enter details"
                            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                    </div>

                    <div>
                        <button type="submit" id="expensesSubmit"
                            class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition">Submit</button>
                    </div>
                </form>

                <!-- Recent Transactions & Total -->
                <div class="bg-white p-6 shadow-lg rounded-lg flex-1 pb-16">
                    <h3 class="text-gray-700 font-semibold mb-4">Recent Transactions</h3>
                    <ul id="recentTransactions" class="divide-y divide-gray-200 mb-4"></ul>
                    <p class="font-semibold text-gray-800 mb-4">Total: <span id="totalExpense">₹0.00</span></p>
                    <button id="viewAllBtn"
                        class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">View All</button>
                </div>
            </main>
        </div>

        <!-- Mobile Menu Bar (Bottom Navigation) for Expenses -->
        <nav class="fixed bottom-0 left-0 right-0 bg-white shadow-lg md:hidden z-50">
            <div class="flex justify-around items-center py-3">
                <a href="#" class="flex flex-col items-center text-gray-600 dashboard-link">
                    <i class="fas fa-tachometer-alt mb-1"></i>
                    <span class="text-xs">Dashboard</span>
                </a>
                <a href="#" class="flex flex-col items-center text-blue-600 expenses-link">
                    <i class="fas fa-plus-circle mb-1"></i>
                    <span class="text-xs">Add Expense</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-exchange-alt mb-1"></i>
                    <span class="text-xs">Add Transactions</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-wallet mb-1"></i>
                    <span class="text-xs">Add Income</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-600">
                    <i class="fas fa-piggy-bank mb-1"></i>
                    <span class="text-xs">Add Saving</span>
                </a>
            </div>
        </nav>
    </div>

    <!-- REMOVE expenses.js script tag - only use home.js -->
    <script type="module" src="home.js"></script>
</body>

</html>